{"version":3,"sources":["assets/images/nexus-mutual-logo.svg","assets/images sync /^/.//.*/-logo/.svg$","assets/images/aave-logo.svg","assets/images/compound-logo.svg","assets/images/cream-logo.svg","assets/images/curve-logo.svg","assets/images/uniswap-logo.svg","assets/images/yearn-logo.svg","constants/data.ts","utils/calculateYearlyCost.ts","client.ts","state/reducer.ts","state/store.ts","components/Flex/Flex.tsx","components/Box/Box.tsx","components/PageContentWrapper/PageContentWrapper.tsx","connectors.ts","components/NavBar/NavBar.tsx","components/Card/Card.tsx","components/Text/Text.tsx","components/AccordionCard/AccordionCard.tsx","hooks/useReducerActions.ts","theme/colors.ts","theme/typography.ts","theme/radii.ts","theme/space.ts","theme/variants/buttons.ts","theme/variants/cards.ts","theme/index.ts","contexts/DimensionsContext.tsx","components/Slider/Slider.tsx","hooks/useDimensions.ts","components/Icon/Icon.tsx","components/Button/Button.tsx","assets/images/spinner.svg","constants/index.ts","hooks/web3.ts","utils/web3.ts","hooks/useContract.ts","hooks/useDistributor.ts","components/OpportunityImage.tsx","views/OpportunityListView/scene/OpportunityCard.tsx","state/hooks.ts","views/OpportunityListView/OpportunityListView.tsx","config/env.ts","contexts/index.tsx","app/App.tsx","reportWebVitals.ts","index.tsx"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","protocols","aave","name","executionUrl","compound","yearn","cream","calculateRisk","Decimal","netStakedNxm","a","b","STAKED_HIGH_RISK_COST","LOW_RISK_COST_LIMIT_NXM","mul","PRICING_EXPONENT","STAKED_LOW_RISK_COST","exponent","div","uncappedRiskCost","sub","pow","gt","GRAPH_BASE_URL","aaveQuery","gql","compoundQuery","fetchCompoundRates","request","markets","opportunites","market","protocol","displayName","underlyingSymbol","symbol","fixed","opportunityAsset","address","decimals","underlyingAssets","underlyingAddress","underlyingDecimals","nexusAddress","rawApr","supplyRate","toFixed","filter","m","fetchCreamRates","fetchAaveRates","reserves","includes","aToken","underlyingAssetAddress","liquidityRate","fetchYearnRates","axios","get","params","apy","data","symbolAlias","imageUrl","vaultIcon","tokenAddress","tokenName","Symbol","tokenSYmbol","apyOneMonthSample","fetchCapacities","coverables","capacityWithCost","capacity","netStaked","associatedCoverable","find","coverable","toLowerCase","contractAddress","coverCost","netStakedNXM","startsWith","toNumber","fetchSignedQuote","coverAmount","currency","period","quoteURL","fetchAllRates","Promise","all","compoundRates","aaveRates","yearnRates","creamRates","sort","fetchRates","createAsyncThunk","rates","fetchCoverageData","capacities","fetchQuote","quote","application","createSlice","initialState","signedQuote","undefined","loadingRates","loadingCapacities","reducers","extraReducers","fulfilled","state","action","payload","pending","store","configureStore","reducer","applicationReducer","Flex","ReFlex","Box","ReBox","PageContentWrapper","space","theme","width","contentWidth","contentMaxWidth","injected","InjectedConnector","supportedChainIds","StyledNavBar","props","position","top","justifyContent","alignItems","height","background","colors","black","transform","sx","transition","zIndex","NavBar","React","useState","y","setY","document","documentElement","scrollTop","lastScrollTop","setlastScrollTop","useWeb3React","activate","active","account","hideNavBar","documentScrolled","useEffect","window","addEventListener","removeEventListener","as","src","NexusLogo","alt","onClick","Card","variant","variantTagName","test","Text","AccordionSection","secondary","padding","expanded","margin","overflow","maxHeight","borderTop","borderColor","border","AccordionCard","isExpanded","children","accordionChildren","setExpanded","px","pb","mx","style","userSelect","cursor","color","fontWeight","textDecoration","prev","reducerValues","value","useReducerActions","dispatch","composeAction","type","sync","subType","current","async","fetchFxn","disableLastUpdated","dataIsFresh","Date","now","lastUpdated","isFetching","done","error","toString","primary","primaryDark","tertiary","white","blue","yellow","red","text","textLight","textGray","textLink","fontSizesScale","fontSizesScaleObject","bigTitle","h1","h2","h3","h4","h5","h6","subhead","body1","body2","button","caption1","caption2","fontSizes","assign","letterSpacingsScale","letterSpacingsScaleObject","mono","createTextVariant","opts","fontFamily","fontSize","letterSpacing","typography","fonts","default","fontWeights","regular","semibold","bold","letterSpacings","textTransform","my","radiiScale","radiiScaleObject","slight","small","medium","large","circle","radii","spaceScale","Array","fill","_","i","common","display","boxSizing","minHeight","borderRadius","py","buttons","bg","outline","boxShadow","cards","breakpoints","variants","BREAKPOINTS","v","replace","calculateNewDimensions","subs","dimensionsArr","node","getBoundingClientRect","innerWidth","innerHeight","mobile","elements","page","subscriptions","initialContext","ref","subscribe","unsubscribe","packagesReducer","concat","s","DimensionsContext","createContext","DimensionsContextProvider","useReducer","actions","setDimensions","setSubscriptions","removeSubscription","pageValue","useCallback","length","update","_subs","contextValue","Provider","disableScroll","attachEvents","handleEnd","handleMove","fxn","pageContent","getElementById","forEach","pre","body","SliderTrack","SliderThumbContainer","SliderThumb","Slider","min","max","step","defaultValue","valueSuffix","ariaLabelledBy","disabled","onChange","onInput","dv","setActive","_value","setValue","useMemo","Math","random","context","useContext","dimensionRef","useRef","parentNode","useDimensions","containerRef","moveV","left","isNaN","x","handleStart","iter","touches","pageX","val","round","onPointerDown","onMouseDown","onTouchStart","content","flexDirection","role","tabIndex","onKeyDown","incrementValue","direction","key","nativeEvent","preventDefault","className","aria-valuemin","aria-valuemax","aria-valuenow","aria-disabled","aria-labelledby","whiteSpace","Icon","_color","size","useThemeUI","_get","ButtonIcon","ButtonText","Button","icon","variantTheme","pl","pr","path","NetworkContextName","useActiveWeb3React","useWeb3ReactCore","contextNetwork","getContract","ABI","library","ethers","utils","getAddress","isAddress","constants","AddressZero","Contract","getSigner","connectUnchecked","getProviderOrSigner","useDistributorContract","withSignerIfPossible","chainId","ChainId","MAINNET","KOVAN","console","useContract","DISTRIBUTOR_ABI","OppoortunityImage","protocolImage","asset","staticImageUrl","require","onError","target","marginLeft","marginTop","OpportunityCard","opportunity","coverDuration","setCoverDuration","setCoverAmount","loadingTx","setLoadingTx","buyCover","distributorContract","coverData","amount","log","networkBasedAddress","parseFloat","encodedSignedQuote","defaultAbiCoder","encode","price","priceInNXM","expiresAt","generatedAt","r","tx","parseEther","useDistributor","coverAvailable","capacityETH","mb","associtatedCoverable","supportedChains","chain","spinner","useAppDispatch","useDispatch","useAppSelector","useSelector","OpportunityListViewContainer","OpportunityListView","fetchRatesAction","useAsyncRates","fetchCapacitiesAction","useAsyncCapacities","filterCriteria","setFilterCriteria","ratesWithCosts","rate","associatedCoverageData","BigNumber","from","capacityDAI","token","availableTokens","Set","count","env","envVarName","envVar","process","required","Boolean","parseInt","parseEnv","Contexts","Web3ProviderNetwork","createWeb3ReactRoot","getLibrary","provider","providers","Web3Provider","Router","AppContainer","App","component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.0d1aba24.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/nexus-mutual-logo.d3ee1f0e.svg\";","var map = {\n\t\"./aave-logo.svg\": 251,\n\t\"./compound-logo.svg\": 252,\n\t\"./cream-logo.svg\": 253,\n\t\"./curve-logo.svg\": 254,\n\t\"./nexus-mutual-logo.svg\": 111,\n\t\"./uniswap-logo.svg\": 255,\n\t\"./yearn-logo.svg\": 256\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 250;","export default __webpack_public_path__ + \"static/media/aave-logo.7f0cfd97.svg\";","export default __webpack_public_path__ + \"static/media/compound-logo.bc11eea0.svg\";","export default __webpack_public_path__ + \"static/media/cream-logo.29138554.svg\";","export default __webpack_public_path__ + \"static/media/curve-logo.7de22a5b.svg\";","export default __webpack_public_path__ + \"static/media/uniswap-logo.6ae3efa2.svg\";","export default __webpack_public_path__ + \"static/media/yearn-logo.84f90044.svg\";","import { Protocol } from 'types/shared';\n\nexport const protocols: { [key: string]: Protocol } = {\n  aave: {\n    name: 'aave',\n    executionUrl: 'https://app.aave.com',\n  },\n  compound: {\n    name: 'compound',\n    executionUrl: 'https://app.compound.finance',\n  },\n  yearn: {\n    name: 'yearn',\n    executionUrl: 'https://yearn.finance/vaults',\n  },\n  cream: {\n    name: 'cream',\n    executionUrl: 'https://app.cream.finance',\n  },\n};\n","import Decimal from 'decimal.js-light';\nimport { ethers, BigNumber } from 'ethers';\n// import { parseUnits, BigNumber } from '@ethersproject/units';\n\nconst max = (a: Decimal, b: Decimal) => (a.gt(b) ? a : b);\n\nconst DAYS_PER_YEAR = new Decimal('365.25');\nconst SURPLUS = 0.3; // 30%\nconst COVER_PRICE_SURPLUS_MARGIN = new Decimal(SURPLUS);\n\nexport const calculateRisk = (netStakedNxm: Decimal): Decimal => {\n  const STAKED_HIGH_RISK_COST = new Decimal(100);\n  const LOW_RISK_COST_LIMIT_NXM = new Decimal(50000).mul('1e18');\n  const PRICING_EXPONENT = new Decimal(7);\n  const STAKED_LOW_RISK_COST = new Decimal(2);\n  // uncappedRiskCost = stakedHighRiskCost * [1 - netStakedNXM/lowRiskCostLimit ^ (1/pricingExponent) ];\n  const exponent = new Decimal(1).div(PRICING_EXPONENT);\n  const uncappedRiskCost = STAKED_HIGH_RISK_COST.mul(\n    new Decimal(1).sub(netStakedNxm.div(LOW_RISK_COST_LIMIT_NXM).pow(exponent))\n  );\n\n  return max(STAKED_LOW_RISK_COST, uncappedRiskCost);\n};\n\nexport const calculatePrice = (\n  coverAmount: string,\n  netStakedNxm: string,\n  coverPeriod: number\n): BigNumber => {\n  const coverAmountDecimal = new Decimal(coverAmount || '0');\n  const netStakedNxmDecimal = new Decimal(netStakedNxm);\n  const coverPeriodDecimal = new Decimal(coverPeriod || '0');\n  const surplusMultiplier = COVER_PRICE_SURPLUS_MARGIN.add(1);\n  const risk = calculateRisk(netStakedNxmDecimal);\n  const pricePerDay = coverAmountDecimal\n    .mul(risk)\n    .div(new Decimal('100'))\n    .mul(surplusMultiplier)\n    .div(DAYS_PER_YEAR);\n\n  return ethers.utils.parseUnits(\n    pricePerDay.mul(coverPeriodDecimal).toFixed(18),\n    18\n  );\n};\n\nexport const getYearlyCost = (netStaked: string): number => {\n  return (\n    calculateRisk(\n      // If netStaked starts with - it's a quote-api calcualtion error.\n      // Prevent crashes by assuming that netStaked is 0 in this case.\n      netStaked.startsWith('-') ? new Decimal('0') : new Decimal(netStaked)\n    ).toNumber() *\n    (1 + SURPLUS)\n  );\n};\n","import axios from 'axios';\nimport { request, gql } from 'graphql-request';\nimport { OpportunityShell } from './types/shared';\nimport { protocols } from './constants/data';\nimport { getYearlyCost } from './utils/calculateYearlyCost';\n\nconst GRAPH_BASE_URL = 'https://api.thegraph.com/subgraphs/name';\nconst BANCOR_BASE_URL = 'https://api-v2.bancor.network';\nconst YEARN_BASE_URL = 'https://api.yearn.tools';\n// ASK IN CURVE DISCORD FOR REAL API ENDPOINT\nconst CURVE_BASE_URL = 'https://curvemarketcap.com/datatable.json';\n\n/*\n * GRAPHQL QUERIES\n */\n\nconst aaveQuery = gql`\n  {\n    reserves(first: 50) {\n      # id is atoken address\n      id\n      name\n      decimals\n      liquidityRate\n      liquidityIndex\n      symbol\n      isActive\n      aToken {\n        # underlying token address\n        id\n        underlyingAssetAddress\n      }\n    }\n  }\n`;\n\nconst compoundQuery = gql`\n  {\n    markets(first: 50) {\n      # id is ctoken address\n      id\n      name\n      supplyRate\n      symbol\n      underlyingName\n      underlyingDecimals\n      underlyingSymbol\n      underlyingAddress\n    }\n  }\n`;\n\n// Fetch functions need to return Opportunity Skeleton\n// That will be filled in via web3\nexport const fetchCompoundRates = async (): Promise<OpportunityShell[]> => {\n  const { markets } = await request(\n    `${GRAPH_BASE_URL}/graphprotocol/compound-v2`,\n    compoundQuery\n  );\n  const opportunites: OpportunityShell[] = markets\n    .map((market: any) => {\n      return {\n        protocol: protocols['compound'],\n        displayName: `Compound ${market?.underlyingSymbol}`,\n        symbol: market?.symbol,\n        fixed: false,\n        opportunityAsset: {\n          symbol: market?.symbol,\n          address: market?.id,\n          // all ctokens have 18 decimals\n          decimals: 18,\n        },\n        underlyingAssets: [\n          {\n            symbol: market?.underlyingSymbol,\n            address: market?.underlyingAddress,\n            decimals: market?.underlyingDecimals,\n          },\n        ],\n        nexusAddress: '0x3d9819210a31b4961b30ef54be2aed79b9c9cd3b',\n        // Approximation for how much the compound supply rate undershoots the actual # of blocks per year\n        rawApr: +(market?.supplyRate * 1.15 * 100).toFixed(2),\n      };\n    })\n    .filter((m: any) => m?.rawApr > 0);\n  return opportunites;\n};\n\nexport const fetchCreamRates = async (): Promise<OpportunityShell[]> => {\n  const { markets } = await request(\n    `${GRAPH_BASE_URL}/creamfinancedev/cream-lending`,\n    compoundQuery\n  );\n  const opportunites: OpportunityShell[] = markets\n    .map((market: any) => {\n      return {\n        protocol: protocols['cream'],\n        displayName: `Cream ${market.underlyingSymbol}`,\n        symbol: market.symbol,\n        fixed: false,\n        opportunityAsset: {\n          symbol: market?.symbol,\n          address: market?.id,\n          // all crtokens have 18 decimals\n          decimals: 18,\n        },\n        underlyingAssets: [\n          {\n            symbol: market?.underlyingSymbol,\n            address: market?.underlyingAddress,\n            decimals: market?.underlyingDecimals,\n          },\n        ],\n        nexusAddress: '0x3d9819210a31b4961b30ef54be2aed79b9c9cd3b',\n        // Approximation for how much the cream supply rate undershoots the actual # of blocks per year\n        rawApr: +(market.supplyRate * 1.15 * 100).toFixed(2),\n      };\n    })\n    .filter((m: any) => m.rawApr > 0);\n  return opportunites;\n};\n\nexport const fetchAaveRates = async (): Promise<OpportunityShell[]> => {\n  const { reserves } = await request(\n    `${GRAPH_BASE_URL}/aave/protocol-v2`,\n    aaveQuery\n  );\n  const opportunites: OpportunityShell[] = reserves\n    .filter((m: any) => !m?.symbol.includes('Amm'))\n    .map((market: any) => {\n      return {\n        protocol: protocols['aave'],\n        displayName: `Aave ${market.symbol}`,\n        symbol: market.symbol,\n        fixed: false,\n        opportunityAsset: {\n          address: market?.aToken?.id,\n          name: `Aave ${market?.symbol}`,\n          symbol: `a${market?.symbol}`,\n          decimals: market?.decimals,\n        },\n        nexusAddress: '0x7d2768de32b0b80b7a3454c06bdac94a69ddc7a9',\n        underlyingAssets: [\n          {\n            address: market?.aToken.underlyingAssetAddress,\n            symbol: market?.symbol,\n            name: market?.name,\n            decimals: market?.decimals,\n          },\n        ],\n        // liquidity rate is expressed in ray (10e27) instead of wei (10e18)\n        rawApr: +(market.liquidityRate / 10 ** 25).toFixed(2),\n      };\n    })\n    .filter((m: any) => m.rawApr > 0);\n  return opportunites;\n};\n\nexport const fetchYearnRates = async (): Promise<OpportunityShell[]> => {\n  const { data } = await axios.get(`${YEARN_BASE_URL}/vaults`, {\n    params: {\n      apy: true,\n    },\n  });\n  const opportunites: OpportunityShell[] = data\n    .filter((market: any) => market.apy)\n    .map((market: any) => {\n      return {\n        protocol: protocols['yearn'],\n        displayName: `${market?.name} Vault`,\n        symbol: market?.symbol,\n        fixed: false,\n        opportunityAsset: {\n          address: market?.address,\n          symbol: market?.symbolAlias,\n          decimals: market?.decimals,\n          imageUrl: market?.vaultIcon,\n        },\n        underlyingAssets: [\n          {\n            address: market?.tokenAddress,\n            name: market?.tokenName,\n            Symbol: market?.tokenSYmbol,\n          },\n        ],\n        nexusAddress: '0x9d25057e62939d3408406975ad75ffe834da4cdd',\n        imageUrl: market?.vaultIcon,\n        rawApr: +market?.apy?.apyOneMonthSample.toFixed(2),\n      };\n    })\n    .filter((m: any) => m.rawApr > 0);\n  return opportunites;\n};\n\nexport const fetchBancorRates = async (): Promise<OpportunityShell> => {\n  const { data } = await axios.get(`${BANCOR_BASE_URL}/pools`);\n  return data;\n};\n\nexport const fetchCurveRates = async (): Promise<OpportunityShell> => {\n  const { data } = await axios.get(`${CURVE_BASE_URL}`);\n  return data;\n};\n\nexport const fetchCapacities = async (): Promise<any> => {\n  const { data } = await axios.get('https://api.nexusmutual.io/v1/capacities');\n  const { data: coverables } = await axios.get(\n    'https://api.nexusmutual.io/coverables/contracts.json'\n  );\n  const capacityWithCost = data.map((capacity: any) => {\n    const associatedCoverable =\n      coverables[\n        Object.keys(coverables).find(\n          (coverable) =>\n            coverable.toLowerCase() === capacity.contractAddress.toLowerCase()\n        ) || '0x0'\n      ];\n    return {\n      ...capacity,\n      associatedCoverable,\n      coverCost: getYearlyCost(capacity.netStakedNXM),\n    };\n  });\n  return capacityWithCost;\n};\n\nexport const fetchSignedQuote = async (\n  coverAmount: number,\n  currency: string,\n  period: number,\n  contractAddress: string\n): Promise<any> => {\n  // URL to request a quote for.\n  const quoteURL =\n    `https://api.staging.nexusmutual.io/legacy/v1/quote?` +\n    `coverAmount=${coverAmount}&currency=${currency}&period=${period}&contractAddress=${contractAddress}`;\n  const { data } = await axios.get(quoteURL);\n  return data;\n};\n\nexport const fetchAllRates = async (): Promise<OpportunityShell[]> => {\n  const [compoundRates, aaveRates, yearnRates, creamRates] = await Promise.all([\n    fetchCompoundRates(),\n    fetchAaveRates(),\n    fetchYearnRates(),\n    fetchCreamRates(),\n    fetchCreamRates(),\n  ]);\n  return [...compoundRates, ...aaveRates, ...yearnRates, ...creamRates].sort(\n    (a, b) => +b.rawApr - +a.rawApr\n  );\n};\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport { OpportunityShell } from 'types/shared';\nimport {\n  fetchAllRates,\n  fetchCapacities as fetchCoverageData,\n  fetchSignedQuote as fetchQuote,\n} from '../client';\n\nexport const fetchRates = createAsyncThunk('app/fetchSecret', async () => {\n  const rates = await fetchAllRates();\n  return rates;\n});\n\nexport const fetchCapacities = createAsyncThunk(\n  'app/fetchCapacities',\n  async () => {\n    const capacities = await fetchCoverageData();\n    return capacities;\n  }\n);\n\nexport const fetchSignedQuote = createAsyncThunk(\n  'app/fetchSignedQuote',\n  async (contractAddress: string) => {\n    const quote = await fetchQuote(1, 'ETH', 100, contractAddress);\n    return quote;\n  }\n);\n\n// @ts-ignore\nexport const application = createSlice({\n  name: 'application',\n  initialState: {\n    rates: [] as OpportunityShell[],\n    capacities: [] as any[],\n    signedQuote: undefined,\n    loadingRates: false,\n    loadingCapacities: false,\n  },\n  reducers: {},\n  extraReducers: {\n    // @ts-ignore\n    [fetchRates.fulfilled]: (state, action) => {\n      state.rates = action.payload;\n    },\n    // @ts-ignore\n    [fetchCapacities.pending]: (state) => {\n      state.loadingCapacities = true;\n    },\n    // @ts-ignore\n    [fetchRates.pending]: (state) => {\n      state.loadingRates = true;\n    },\n    // @ts-ignore\n    [fetchCapacities.fulfilled]: (state, action) => {\n      state.capacities = action.payload;\n    },\n    // @ts-ignore\n    [fetchSignedQuote.fulfilled]: (state, action) => {\n      state.signedQuote = action.payload;\n    },\n  },\n});\n\nexport default application.reducer;\n","import { configureStore } from '@reduxjs/toolkit';\nimport applicationReducer from './reducer';\n\nexport const store = configureStore({\n  reducer: {\n    application: applicationReducer,\n  },\n});\n\n// Infer the `RootState` and `AppDispatch` types from the store itself\nexport type RootState = ReturnType<typeof store.getState>;\n// Inferred type: {posts: PostsState, comments: CommentsState, users: UsersState}\nexport type AppDispatch = typeof store.dispatch;\n","import styled from '@emotion/styled/macro';\nimport { Flex as ReFlex, FlexProps as ReFlexProps } from 'rebass';\n\nexport interface FlexProps extends Omit<ReFlexProps, BrokenRebassProps> {}\n\nexport const Flex = styled(ReFlex)<FlexProps>`\n  box-sizing: border-box;\n`;\n","import styled from '@emotion/styled/macro';\nimport { Box as ReBox, BoxProps as ReBoxProps } from 'rebass';\n\nexport interface BoxProps extends Omit<ReBoxProps, BrokenRebassProps> {}\n\nexport const Box = styled(ReBox)<BoxProps>`\n  box-sizing: border-box;\n`;\n","import styled from '@emotion/styled/macro';\nimport { Box } from 'components/Box';\n\nexport const PageContentWrapper = styled(Box)(({ theme: { space } }: any) => ({\n  width: `clamp(0em, ${space.contentWidth}, ${space.contentMaxWidth})`,\n}));\n","import { InjectedConnector } from '@web3-react/injected-connector';\n\nexport const injected = new InjectedConnector({\n  supportedChainIds: [1, 4, 42],\n});\n","import React from 'react';\nimport styled from '@emotion/styled/macro';\nimport { Button } from 'rebass';\nimport { Flex, FlexProps } from 'components/Flex/Flex';\nimport { PageContentWrapper } from 'components/PageContentWrapper';\nimport NexusLogo from 'assets/images/nexus-mutual-logo.svg';\nimport { injected } from '../../connectors';\nimport { useWeb3React } from '@web3-react/core';\n\nexport interface NavBarProps extends FlexProps {}\n\nconst StyledNavBar = styled(Flex)((props: any) => ({\n  position: 'fixed',\n  top: 0,\n  justifyContent: 'center',\n  alignItems: 'center',\n  height: '2.75em',\n  width: 'clamp(100vw, 100vw, 100vw)',\n  background: props.theme.colors.black,\n  transform: props.sx.transform,\n  transition: 'transform 200ms ease-in-out',\n  zIndex: 1000,\n}));\n\nexport const NavBar: React.FC<NavBarProps> = (props) => {\n  const [y, setY] = React.useState<number>(0);\n  const [lastScrollTop, setlastScrollTop] = React.useState<number>(\n    document.documentElement.scrollTop\n  );\n  const { activate, active, account } = useWeb3React();\n\n  const hideNavBar = () => {\n    const documentScrolled = document.documentElement.scrollTop;\n    if (documentScrolled - lastScrollTop < 0) setY(0);\n    else if (documentScrolled > 150) setY(-100);\n    setlastScrollTop(documentScrolled);\n  };\n\n  React.useEffect(() => {\n    window.addEventListener('scroll', hideNavBar);\n    return () => window.removeEventListener('scroll', hideNavBar);\n  }, [hideNavBar]);\n\n  return (\n    <StyledNavBar as=\"nav\" sx={{ transform: `translateY(${y}%)` }} {...props}>\n      <PageContentWrapper>\n        <img src={NexusLogo} alt=\"Nexus Mutual\" />\n      </PageContentWrapper>\n      <Button onClick={() => activate(injected)}>\n        {active && account ? 'Connected' : 'Connect'}\n      </Button>\n    </StyledNavBar>\n  );\n};\n","import React from 'react';\nimport { Box, BoxProps } from 'components/Box/Box';\n\nexport interface CardProps extends BoxProps {}\n\nexport const Card: React.FC<BoxProps> = ({ variant = 'primary', ...props }) => (\n  <Box variant={`cards.${variant}`} {...props} />\n);\n","import React from 'react';\nimport { Text as RebassText, TextProps as RebassTextProps } from 'rebass';\n\nexport interface TextProps extends Omit<RebassTextProps, BrokenRebassProps> {}\n\nconst variantTagName = (\n  variant: any,\n  as: React.ElementType<any>\n): React.ElementType<any> => {\n  if (/h\\d/i.test(variant)) return variant.toLowerCase();\n  if (variant === 'bigTitle') return 'h1';\n  return as || 'span';\n};\n\nexport const Text: React.FC<TextProps> = ({\n  as = 'span',\n  variant = 'body1',\n  ...props\n}) => (\n  <RebassText as={variantTagName(variant, as)} {...{ variant, ...props }} />\n);\n","import React from 'react';\nimport styled from '@emotion/styled/macro';\n\nimport { Card, CardProps } from 'components/Card/Card';\nimport { Box } from 'components/Box';\nimport { Flex } from 'components/Flex';\nimport { Text } from 'components/Text';\n\n// Type definitions\n\nexport interface AccordionCardProps extends CardProps {\n  isExpanded?: boolean;\n  accordionChildren:\n    | boolean\n    | React.ReactChild\n    | React.ReactFragment\n    | React.ReactPortal\n    | null\n    | undefined;\n}\n\n// Styled components\n\nconst AccordionSection = styled(Box)((props: any) => ({\n  background: props.theme.colors.secondary,\n  width: '100%',\n  padding: `${+!!props.expanded * 1.5}em 2.625em`,\n  margin: '1.25em 0 0',\n  overflow: 'hidden',\n  maxHeight: props.expanded ? '1000px' : '0px',\n  borderTop: `${+!!props.expanded}px solid`,\n  borderColor: props.theme.colors.border,\n  transition: '200ms linear',\n}));\n\n// Main component\n\nexport const AccordionCard: React.FC<AccordionCardProps> = ({\n  isExpanded,\n  children,\n  accordionChildren,\n  ...props\n}) => {\n  const [expanded, setExpanded] = React.useState<boolean>(!!isExpanded);\n  return (\n    <Card px=\"0px\" pb=\"0px\" width=\"100%\" {...props}>\n      <Box mx=\"1.25em\">{children}</Box>\n      <AccordionSection {...{ expanded }}>{accordionChildren}</AccordionSection>\n      <Flex\n        width=\"100%\"\n        alignItems=\"center\"\n        justifyContent=\"center\"\n        height=\"1.625em\"\n        sx={{ borderTop: '1px solid', borderColor: 'border' }}\n        style={{ userSelect: 'none', cursor: 'pointer' }}\n      >\n        <Text\n          variant=\"caption1\"\n          color=\"primary\"\n          fontWeight=\"bold\"\n          style={{ textDecoration: 'underline' }}\n          onClick={() => setExpanded((prev: boolean) => !prev)}\n        >\n          {expanded ? 'HIDE' : 'DETAILS'}\n        </Text>\n      </Flex>\n    </Card>\n  );\n};\n","// Generate our initial state values\n\nconst syncReducerValue = <T>(\n  value: T | null = null\n): NReducerActions.ReducerValue<T> => ({\n  value,\n});\n\nconst asyncReducerValue = <T>(\n  value: T | null = null\n): NReducerActions.AsyncReducerValue<T> => ({\n  value,\n  lastUpdated: null,\n  isFetching: false,\n  error: null,\n});\n\nexport const reducerValues: NReducerActions.ReducerValues = {\n  sync: syncReducerValue,\n  async: asyncReducerValue,\n};\n\n// Our action composer hook\nexport const useReducerActions = (\n  dispatch: React.Dispatch<any>\n): NReducerActions.HookValue => {\n  const composeAction: NReducerActions.ComposeAction = (type, payload) => {\n    dispatch({ type, payload });\n  };\n\n  return {\n    // Create a Sync Action\n    sync: (subType, current = {}) => (value) => {\n      composeAction(`SET_${subType}`, { ...current, value });\n    },\n\n    // Create an Async Action\n    async: (subType, fetchFxn, current, disableLastUpdated) => async (\n      ...args\n    ) => {\n      const dataIsFresh = disableLastUpdated\n        ? false\n        : Date.now() - +(current.lastUpdated as Date) < 30000;\n      if (current.isFetching || dataIsFresh) {\n        return;\n      }\n      composeAction(`GET_${subType}`, { ...current, isFetching: true });\n\n      let payload;\n      const done = {\n        ...current,\n        isFetching: false,\n        lastUpdated: new Date(),\n      };\n\n      try {\n        const value = await fetchFxn(...args);\n        const error = null;\n        payload = { ...done, error, value };\n      } catch (e) {\n        const error = e.toString();\n        payload = { ...done, error };\n      }\n\n      composeAction(`SET_${subType}`, payload);\n    },\n  };\n};\n\nexport default useReducerActions;\n","interface IColorsType {\n  [color: string]: string;\n}\n\nexport const colors: IColorsType = {\n  primary: '#54aa8b',\n  primaryDark: '#499579',\n  secondary: '#f8fafd',\n  tertiary: '#f0f3f6',\n  border: '#E0E4EC',\n  black: '#3a3d42',\n  white: '#ffffff',\n  background: '#FCFDFD',\n  blue: '#4fa7d9',\n  yellow: '#e3be3c',\n  red: '#D9684F',\n  text: '#505050',\n  textLight: 'rgba(80, 80, 80, 0.5)',\n  textGray: '#7e8da5',\n  textLink: '#0000ff',\n};\n","interface ITypographyScaleArray<T>\n  extends IThemeScaleArray<\n    T,\n    {\n      h1: number | string;\n      h2: number | string;\n      h3: number | string;\n      h4: number | string;\n      h5: number | string;\n      h6: number | string;\n      subhead: number | string;\n      body1: number | string;\n      body2: number | string;\n      button: number | string;\n      caption1: number | string;\n      caption2: number | string;\n    }\n  > {}\n\ninterface ITypography {\n  fonts: { [variant: string]: string };\n  fontWeights: { [variant: string]: number };\n  fontSizes: ITypographyScaleArray<number | string>;\n  letterSpacings: ITypographyScaleArray<number | string>;\n  text: { [variant: string]: { [styleProp: string]: string | number } };\n}\n\n/**\n * System-UI font-size scale\n */\nconst fontSizesScale = [10, 12, 14, 16, 18, 20, 22, 24, 28, 34, 42];\nconst fontSizesScaleObject = {\n  bigTitle: fontSizesScale[10],\n  h1: fontSizesScale[9],\n  h2: fontSizesScale[8],\n  h3: fontSizesScale[6],\n  h4: fontSizesScale[4],\n  h5: fontSizesScale[3],\n  h6: fontSizesScale[2],\n  subhead: fontSizesScale[5],\n  body1: fontSizesScale[3],\n  body2: fontSizesScale[2],\n  button: fontSizesScale[2],\n  caption1: fontSizesScale[1],\n  caption2: fontSizesScale[0],\n  error: fontSizesScale[2],\n};\nconst fontSizes: ITypographyScaleArray<number | string> = Object.assign(\n  fontSizesScale,\n  fontSizesScaleObject\n);\n\n/**\n * System-UI letter-spacing scale\n */\nconst letterSpacingsScale = [-1, -0.75, -0.5, -0.25, 0, 0.1, 0.15, 0.4, 1.5];\nconst letterSpacingsScaleObject = {\n  bigTitle: letterSpacingsScale[0],\n  h1: letterSpacingsScale[1],\n  h2: letterSpacingsScale[2],\n  h3: letterSpacingsScale[3],\n  h4: letterSpacingsScale[4],\n  h5: letterSpacingsScale[5],\n  h6: letterSpacingsScale[6],\n  subhead: letterSpacingsScale[5],\n  body1: letterSpacingsScale[6],\n  body2: letterSpacingsScale[6],\n  button: letterSpacingsScale[3],\n  caption1: letterSpacingsScale[7],\n  caption2: letterSpacingsScale[8],\n  error: letterSpacingsScale[6],\n  mono: letterSpacingsScale[6],\n};\nconst letterSpacings: ITypographyScaleArray<number> = Object.assign(\n  letterSpacingsScale,\n  letterSpacingsScaleObject\n);\n\n/**\n * Helper function to keep text variant definitions a bit more dry\n */\nconst createTextVariant = (\n  variant: string,\n  fontWeight: string,\n  opts?: { [styleName: string]: string | number }\n) => ({\n  fontFamily: 'default',\n  fontSize: variant,\n  letterSpacing: variant,\n  color: 'text.primary',\n  px: 0,\n  fontWeight,\n  ...opts,\n});\n\n/**\n * Complete `typography` theme export\n */\nexport const typography: ITypography = {\n  fonts: {\n    default: \"'Open Sans', sans-serif\",\n  },\n  fontWeights: {\n    regular: 400,\n    semibold: 600,\n    bold: 700,\n  },\n  fontSizes,\n  letterSpacings,\n  text: {\n    bigTitle: createTextVariant('bigTitle', 'semibold'),\n    h1: createTextVariant('h1', 'semibold'),\n    h2: createTextVariant('h2', 'semibold'),\n    h3: createTextVariant('h3', 'semibold'),\n    h4: createTextVariant('h4', 'semibold'),\n    h5: createTextVariant('h5', 'semibold'),\n    h6: createTextVariant('h6', 'semibold'),\n    subhead: createTextVariant('subhead', 'regular'),\n    body1: createTextVariant('body1', 'regular'),\n    body2: createTextVariant('body2', 'regular'),\n    button: createTextVariant('button', 'semibold'),\n    caption1: createTextVariant('caption1', 'regular'),\n    caption2: createTextVariant('caption2', 'semibold', {\n      textTransform: 'uppercase',\n    }),\n    error: createTextVariant('error', 'bold', {\n      my: '0.8em',\n      color: 'accents.red',\n    }),\n  },\n};\n","interface IRadiiScaleArray<T>\n  extends IThemeScaleArray<\n    T,\n    {\n      slight: number | string;\n      small: number | string;\n      medium: number | string;\n      large: number | string;\n      circle: string;\n    }\n  > {}\n\nconst radiiScale = [5, 10, 15, 20, '100%'];\nconst radiiScaleObject = {\n  slight: radiiScale[0],\n  small: radiiScale[1],\n  medium: radiiScale[2],\n  large: radiiScale[3],\n  circle: radiiScale[4],\n};\n\nexport const radii: IRadiiScaleArray<number | string> = Object.assign(\n  radiiScale,\n  radiiScaleObject\n);\n","interface ISpaceScaleArray<T>\n  extends IThemeScaleArray<T, Record<string, unknown>> {\n  contentWidth: string;\n  contentMaxWidth: string;\n}\n\nconst spaceScale = new Array(14).fill(0).map((_, i) => `${i * 0.25}em`);\nconst spaceScaleObject = {\n  contentWidth: '67.5em',\n  contentMaxWidth: 'calc(100vw - 1em)',\n};\n\nexport const space: ISpaceScaleArray<number | string> = Object.assign(\n  spaceScale,\n  spaceScaleObject\n);\n","import { colors } from '../colors';\nimport { typography } from '../typography';\n\nconst common = {\n  ...typography.text.body2,\n  display: 'flex',\n  justifyContent: 'center',\n  alignItems: 'center',\n  boxSizing: 'border-box',\n  height: '30px',\n  minHeight: '30px',\n  fontWeight: 'semibold',\n  borderRadius: 'large',\n  userSelect: 'none',\n  cursor: 'pointer',\n  px: '1.5em',\n  py: '0.5em',\n  transition: '200ms linear',\n};\n\nexport const buttons = {\n  primary: {\n    ...common,\n    bg: 'primary',\n    color: 'white',\n    '&:focus': {\n      outline: 'none',\n      bg: 'primaryDark',\n    },\n  },\n  outline: {\n    ...common,\n    bg: 'transparent',\n    boxShadow: `0 0 0 2px inset ${colors.primary}`,\n    color: 'primary',\n    '&:focus': {\n      outline: 'none',\n      boxShadow: `0 0 0 2px inset ${colors.primaryDark}`,\n      color: 'primaryDark',\n    },\n  },\n};\n","const common = {\n  borderRadius: 'large',\n  py: '0.75em',\n  px: '1.25em',\n};\n\nexport const cards = {\n  primary: {\n    ...common,\n    bg: 'white',\n    border: '1px solid',\n    borderColor: 'border',\n  },\n};\n","import { colors } from './colors';\nimport { typography } from './typography';\nimport { radii } from './radii';\nimport { space } from './space';\nimport { buttons } from './variants/buttons';\nimport { cards } from './variants/cards';\n\nexport const theme: any = {\n  space,\n  breakpoints: ['0', '40em', '52em', '87.5em', '103.125em', '108.125em'],\n  radii,\n  colors,\n  buttons,\n  variants: {\n    cards,\n  },\n  ...typography,\n};\n","import React from 'react';\nimport { reducerValues, useReducerActions } from 'hooks/useReducerActions';\nimport { theme } from 'theme';\n\ntype ElementSubscription = {\n  name: string;\n  node: any;\n};\n\ntype ElementDimensions = {\n  [subscriptionName: string]: ClientRect;\n};\n\ntype DimensionsData = {\n  width: number;\n  height: number;\n  large: boolean;\n  medium: boolean;\n  small: boolean;\n  mobile: boolean;\n  elements: ElementDimensions;\n};\n\ntype SubscriptionsData = ElementSubscription[];\n\nconst parseBreakpoint = (value: string | number) => {\n  const v = value.toString();\n  if (v.includes('em')) {\n    return +v.replace(/em/, '') * 16;\n  } else if (v.includes('px')) {\n    return +v.replace(/px/, '');\n  } else {\n    return +v;\n  }\n};\n\nconst BREAKPOINTS = theme.breakpoints.map(parseBreakpoint);\n\nconst calculateNewDimensions = (\n  subs: ElementSubscription[]\n): DimensionsData => {\n  const dimensionsArr = subs\n    .filter(({ node }) => !!node)\n    .map(({ node, name }) => ({\n      [name as string]: node?.getBoundingClientRect(),\n    }));\n\n  return {\n    width: window.innerWidth,\n    height: window.innerHeight,\n    large: window.innerWidth <= BREAKPOINTS[3],\n    medium: window.innerWidth <= BREAKPOINTS[2],\n    small: window.innerWidth <= BREAKPOINTS[1],\n    mobile: window.innerWidth <= BREAKPOINTS[0],\n    elements: Object.assign({}, ...dimensionsArr),\n  };\n};\n\nexport interface DimensionsContextState {\n  page: NReducerActions.SyncReducerValue<DimensionsData>;\n  subscriptions: NReducerActions.SyncReducerValue<SubscriptionsData>;\n}\n\nexport interface DimensionsContextValues extends DimensionsData {\n  ref?: React.RefObject<any>;\n  subscribe(name: string, node: HTMLOrSVGElement): void;\n  unsubscribe(name: string): void;\n}\n\n// Initial values\nconst initialState: DimensionsContextState = {\n  page: reducerValues.sync<DimensionsData>(calculateNewDimensions([])),\n  subscriptions: reducerValues.sync<SubscriptionsData>([]),\n};\n\nconst initialContext: DimensionsContextValues = {\n  ...(initialState.page.value as DimensionsData),\n  ref: { current: null },\n  subscribe: () => undefined,\n  unsubscribe: () => undefined,\n};\n\ntype DimensionsAction = {\n  type: string;\n  payload: any;\n};\n\n// Reducer\nconst packagesReducer = (\n  state: DimensionsContextState,\n  { type, payload }: DimensionsAction\n): DimensionsContextState => {\n  switch (type) {\n    case 'SET_DIMENSIONS':\n      return {\n        ...state,\n        page: payload,\n      };\n    case 'SET_ADD_SUBSCRIPTIONS':\n      return {\n        ...state,\n        subscriptions: {\n          ...state.subscriptions,\n          ...payload,\n          value: payload.value.concat(\n            state.subscriptions.value as SubscriptionsData\n          ),\n        },\n      };\n    case 'SET_REM_SUBSCRIPTIONS':\n      return {\n        ...state,\n        subscriptions: {\n          ...state.subscriptions,\n          value: (state.subscriptions.value as SubscriptionsData).filter(\n            (s) => s.name === payload.name\n          ),\n        },\n      };\n    default:\n      return state;\n  }\n};\n\n// Create context\nexport const DimensionsContext = React.createContext(initialContext);\n\n// Context Provider\nexport const DimensionsContextProvider: React.FC = ({ children }) => {\n  const [store, dispatch] = React.useReducer(packagesReducer, initialState);\n  const actions = useReducerActions(dispatch);\n  const setDimensions = actions.sync('DIMENSIONS', store.page);\n  const setSubscriptions = actions.sync(\n    'ADD_SUBSCRIPTIONS',\n    store.subscriptions\n  );\n  const removeSubscription = actions.sync(\n    'REM_SUBSCRIPTIONS',\n    store.subscriptions\n  );\n  const pageValue = store.page.value as DimensionsData;\n  const subs = store.subscriptions.value as SubscriptionsData;\n\n  const subscribe = React.useCallback(\n    (name: string, node: HTMLOrSVGElement) => {\n      setSubscriptions([{ name, node }]);\n    },\n    []\n  );\n\n  const unsubscribe = React.useCallback((name: string) => {\n    const sub = subs.filter((s) => s.name === name);\n    if (sub.length) {\n      removeSubscription(sub);\n    }\n  }, []);\n\n  React.useEffect(() => {\n    const update = () => {\n      const _subs = store.subscriptions.value as SubscriptionsData;\n      setDimensions(calculateNewDimensions(_subs));\n    };\n    update();\n    window.addEventListener('resize', update);\n    return () => {\n      window.removeEventListener('resize', update);\n    };\n  }, [subs]);\n\n  const contextValue = { ...pageValue, subscribe, unsubscribe };\n\n  return (\n    <DimensionsContext.Provider value={contextValue}>\n      {children}\n    </DimensionsContext.Provider>\n  );\n};\n","import React from 'react';\nimport styled from '@emotion/styled/macro';\nimport { Flex } from 'rebass';\nimport { Text } from 'components/Text';\nimport { Box, BoxProps } from 'components/Box/Box';\nimport { useDimensions } from 'hooks/useDimensions';\n\n/**\n * Constants / Utils\n */\n\nconst disableScroll = () => false;\n\nconst attachEvents = (\n  action: 'enable' | 'disable',\n  handleEnd: (e: any) => void,\n  handleMove: (e: any) => void\n) => {\n  const fxn = action === 'enable' ? 'removeEventListener' : 'addEventListener';\n  const pageContent = document.getElementById('page-content');\n  if (pageContent) {\n    pageContent[fxn]('onscroll', disableScroll);\n    pageContent.style.userSelect = action === 'disable' ? 'none' : 'initial';\n    ['mouse', 'pointer', 'touch'].forEach((pre) => {\n      document.body[fxn](`${pre}${pre === 'touch' ? 'end' : 'up'}`, handleEnd);\n      document.body[fxn](`${pre}move`, handleMove);\n    });\n  }\n};\n\n/**\n * Type definitions\n */\n\nexport interface SliderProps extends BoxProps {\n  'aria-labelledby'?: string;\n  value?: any;\n  valueSuffix?: string;\n  onChange?: (value: any) => void;\n  onInput?: (value: any) => void;\n  disabled?: boolean;\n}\n\n/**\n * Styled Components\n */\n\nconst SliderTrack = styled(Box)`\n  position: absolute;\n  margin: auto 0;\n  left: 0;\n  height: 0.25em;\n  border-radius: 0.5em;\n  user-select: none;\n  transition: 100ms linear;\n  transform-origin: 50% 50%;\n  transform: scale(0);\n  opacity: 0;\n  animation: 350ms slider-track-appear 0ms 1 forwards;\n  @keyframes slider-track-appear {\n    to {\n      opacity: 1;\n      transform: scaleY(1);\n    }\n  }\n\n  &::before,\n  &::after {\n    ${({ theme }: any) => `\n      font-family: ${theme.fonts.default};\n      font-size: ${theme.fontSizes.caption1}px;\n      font-weight: ${theme.fontWeights.bold};\n      color: ${theme.colors.textGray};\n    `};\n    letter-spacing: 2.2px;\n    position: absolute;\n    bottom: -2em;\n    opacity: 0;\n    transform: translateY(-20px);\n    animation: 200ms slider-track-value-appear 1s 1 forwards;\n    @keyframes slider-track-value-appear {\n      to {\n        opacity: 1;\n        transform: translateY(0px);\n      }\n    }\n  }\n\n  &::before {\n    left: 0;\n  }\n\n  &::after {\n    right: 0;\n  }\n`;\n\nconst SliderThumbContainer = styled.div`\n  position: absolute;\n  display: inline-block;\n  transition: 100ms linear;\n  transform: translate(-50%, -0.4em);\n  & > div > div:last-of-type {\n    & > span {\n      transition: 200ms linear;\n    }\n    opacity: 0;\n    transform: translateY(20px);\n    animation: 200ms slider-thumb-value-appear 600ms 1 forwards;\n    @keyframes slider-thumb-value-appear {\n      to {\n        opacity: 1;\n        transform: translateY(0px);\n      }\n    }\n  }\n`;\n\nconst SliderThumb = styled(Box)`\n  position: relative;\n  height: 1.125em;\n  width: 1.125em;\n  user-select: none;\n  transform: scale(0);\n  background: ${({ theme }: any) => theme.colors.white};\n  box-shadow: 0 2px 7px 0 #d5dce7;\n  animation: 150ms slider-thumb-appear 300ms 1 forwards;\n  @keyframes slider-thumb-appear {\n    to {\n      transform: scale(1);\n    }\n  }\n\n  &,\n  &::before {\n    pointer-events: none;\n    border-radius: 100%;\n  }\n  &::before {\n    content: '';\n    position: absolute;\n    transform: rotate(-45deg);\n    height: 0.5em;\n    width: 0.5em;\n    top: 0.3125em;\n    left: 0.3125em;\n    background: ${({ theme }: any) => theme.colors.primary};\n  }\n\n  &.disabled {\n    &,\n    &::before,\n    &::after {\n      transition: 200ms linear;\n      background: ${({ theme }: any) => theme.colors.text.primary};\n    }\n  }\n`;\n\n/**\n * Main component\n */\n\nexport const Slider: React.FC<SliderProps> = ({\n  min = 0,\n  max = 100,\n  step = 1,\n  defaultValue,\n  value,\n  valueSuffix,\n  'aria-labelledby': ariaLabelledBy,\n  disabled,\n  sx,\n  onChange,\n  onInput,\n  ...props\n}) => {\n  const v = +(value as number | string);\n  const dv = +(defaultValue as number | string);\n  const [active, setActive] = React.useState(false);\n  const [_value, setValue] = React.useState(dv || v || +min);\n  const name = React.useMemo(() => Math.random().toString(), []);\n  const { ref: containerRef, elements } = useDimensions(name);\n  let moveV = _value;\n\n  const { width, left } = React.useMemo(() => {\n    return {\n      width: elements[name]?.width || 0,\n      left: elements[name]?.left || 0,\n    };\n  }, [elements[name]]);\n\n  // Update slider if value is being externally conteolled\n  React.useEffect(() => {\n    !isNaN(v) && value !== _value && setValue(v);\n  }, [value]);\n\n  // Position of slider thumb\n  const x = ((+_value - +min) / (+max - +min)) * width;\n  const position = Math.min(width - 9, Math.max(8, x));\n\n  // Our handlers that activates/detivates the slider when dragged\n  const handleStart = (): any => {\n    !disabled && setActive(true);\n  };\n\n  const handleEnd = (): any => {\n    onChange?.(moveV);\n    onInput?.(moveV);\n    setActive(false);\n  };\n\n  // Our \"move\" handler for the component\n  const handleMove = (e: any) => {\n    if (active) {\n      const pageX = e.touches?.[0].pageX || e.pageX;\n      const iter = ((pageX - left) / width) * (+max - +min);\n      let val = Math.round(iter / +step) * +step;\n      val = Math.round(Math.min(+max, Math.max(+min, val + +min)));\n      setActive(true);\n      setValue(val);\n      moveV = val;\n    }\n  };\n\n  // Whenever the slider is activated, we set listeners to the document body\n  // to listen to move and end events. This way the user can move their cursor/finger\n  // away from the slider and still have it update/disengage\n  React.useEffect(() => {\n    if (active) attachEvents('disable', handleEnd, handleMove);\n    else attachEvents('enable', handleEnd, handleMove);\n    return () => attachEvents('enable', handleEnd, handleMove);\n  }, [active]);\n\n  const handleKeyDown = (e: any) => {\n    const incrementValue = (direction: 'up' | 'down') => {\n      const val =\n        direction === 'up'\n          ? Math.min(+max, Math.max(+min, _value + +step))\n          : Math.min(+max, Math.max(+min, _value - +step));\n      setValue(val);\n      onChange?.(val);\n      onInput?.(val);\n    };\n\n    if (['ArrowUp', 'ArrowRight'].includes(e.key)) {\n      e.nativeEvent.preventDefault();\n      incrementValue('up');\n    } else if (['ArrowDown', 'ArrowLeft'].includes(e.key)) {\n      e.nativeEvent.preventDefault();\n      incrementValue('down');\n    }\n  };\n\n  return (\n    <Box\n      {...props}\n      sx={{ width: '100%', position: 'relative', height: '4em', ...sx }}\n      onPointerDown={handleStart}\n      onMouseDown={handleStart}\n      onTouchStart={handleStart}\n    >\n      <div ref={containerRef} style={{ transform: 'translateY(2em)' }}>\n        <SliderTrack\n          width=\"100%\"\n          bg=\"border\"\n          sx={{\n            '&::before': {\n              content: `\"${min}${valueSuffix ? ` ${valueSuffix}` : ''}\"`,\n            },\n            '&::after': {\n              content: `\"${max}${valueSuffix ? ` ${valueSuffix}` : ''}\"`,\n            },\n          }}\n        />\n        <SliderTrack\n          sx={{\n            bg: disabled ? 'text.secondary' : 'primary.main',\n            width: position,\n          }}\n        />\n        <SliderThumbContainer\n          onPointerDown={handleStart}\n          onMouseDown={handleStart}\n          onTouchStart={handleStart}\n          style={{ left: position }}\n        >\n          <Flex flexDirection=\"column\" alignItems=\"center\">\n            <SliderThumb\n              role=\"slider\"\n              tabIndex={+!disabled}\n              onKeyDown={handleKeyDown}\n              className={disabled ? 'disabled' : ''}\n              aria-valuemin={min as number | undefined}\n              aria-valuemax={max as number | undefined}\n              aria-valuenow={value as number | undefined}\n              aria-disabled={disabled}\n              aria-labelledby={ariaLabelledBy}\n              value={_value}\n              disabled={disabled}\n              {...{ min, max, step }}\n            />\n            <Box\n              py=\"0.15em\"\n              px=\"0.5em\"\n              bg=\"white\"\n              style={{ position: 'absolute', top: -35 }}\n              sx={{\n                borderRadius: '0.3em',\n                boxShadow: '0 2px 6px 0 rgba(198, 206, 219, 0.59)',\n              }}\n            >\n              <Text\n                variant=\"caption1\"\n                fontWeight=\"bold\"\n                color=\"textGray\"\n                style={{ letterSpacing: '2px', whiteSpace: 'nowrap' }}\n              >\n                {_value}\n                {valueSuffix ? ` ${valueSuffix}` : ''}\n              </Text>\n            </Box>\n          </Flex>\n        </SliderThumbContainer>\n      </div>\n    </Box>\n  );\n};\n","import React from 'react';\nimport {\n  DimensionsContext,\n  DimensionsContextValues,\n} from 'contexts/DimensionsContext';\n\n// Context hook\nexport const useDimensions = (name: string): DimensionsContextValues => {\n  const context = React.useContext(DimensionsContext);\n  const dimensionRef = React.useRef<any>(null);\n\n  // Subscribe parent component to resize chart based off\n  // parent's dimensions\n  React.useEffect(() => {\n    dimensionRef.current &&\n      context.subscribe(name, dimensionRef.current.parentNode as HTMLElement);\n    return () => context.unsubscribe(name);\n  }, [dimensionRef.current]);\n\n  return { ref: dimensionRef, ...context };\n};\n","import React from 'react';\nimport MdiIcon from '@mdi/react';\nimport { IconProps as MdiIconProps } from '@mdi/react/dist/IconProps';\nimport { Box, BoxProps } from 'components/Box/Box';\nimport { useThemeUI } from 'theme-ui';\nimport _get from 'lodash/get';\n\ntype UsedBoxProps = 'sx' | 'className' | 'as' | 'variant';\n\nexport interface IconProps extends MdiIconProps, Pick<BoxProps, UsedBoxProps> {}\n\nexport const Icon: React.FC<IconProps> = ({\n  className,\n  color: _color = 'text.primary',\n  sx = {},\n  as = 'span',\n  variant,\n  size = 1,\n  ...props\n}) => {\n  const { theme } = useThemeUI();\n  const color = (_get(theme.colors, _color as string) as string) ?? _color;\n  return (\n    <Box {...{ sx, className, as, variant }}>\n      <MdiIcon {...{ size, color }} {...props} />\n    </Box>\n  );\n};\n","import React from 'react';\nimport styled from '@emotion/styled/macro';\nimport { Button as ReButton, ButtonProps as ReButtonProps } from 'rebass';\nimport { Icon } from 'components/Icon';\nimport { Text } from 'components/Text';\nimport { useThemeUI } from 'theme-ui';\n\nexport interface ButtonProps extends Omit<ReButtonProps, BrokenRebassProps> {\n  variant?: string;\n  icon?: string;\n}\n\nconst ButtonIcon = styled(Icon)`\n  position: absolute;\n  height: 18px;\n  left: -31px;\n  transition: 200ms linear;\n`;\n\nconst ButtonText = styled(Text)`\n  position: relative;\n  font-size: inherit;\n  font-family: inherit;\n  font-weight: inherit;\n  color: inherit;\n  white-space: nowrap;\n`;\n\nexport const Button: React.FC<ButtonProps> = ({\n  as = 'button',\n  variant = 'primary',\n  sx = {},\n  icon,\n  children,\n  ...props\n}) => {\n  const { theme } = useThemeUI();\n  const variantTheme: any = theme.buttons?.[variant];\n  const color: string = variantTheme?.color ?? 'white';\n\n  return (\n    <ReButton\n      {...{ as, variant, ...props }}\n      sx={{ ...sx, ...(icon ? { pl: '45px', pr: '40px' } : {}) }}\n    >\n      {typeof children !== 'string' ? (\n        children\n      ) : (\n        <ButtonText>\n          {!!icon && <ButtonIcon path={icon} size={0.75} {...{ color }} />}\n          {children}\n        </ButtonText>\n      )}\n    </ReButton>\n  );\n};\n","export default __webpack_public_path__ + \"static/media/spinner.180538fd.svg\";","export const NetworkContextName = 'NETWORK';\nexport const EthAddress = '0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE';\n","import { useState, useEffect } from 'react';\nimport { useWeb3React as useWeb3ReactCore } from '@web3-react/core';\nimport { Web3ReactContextInterface } from '@web3-react/core/dist/types';\nimport { Web3Provider } from '@ethersproject/providers';\nimport { ChainId } from '@uniswap/sdk';\n\nimport { NetworkContextName } from '../constants';\nimport { injected } from '../connectors';\n\nexport function useActiveWeb3React(): Web3ReactContextInterface<Web3Provider> & {\n  chainId?: ChainId;\n} {\n  const context = useWeb3ReactCore<Web3Provider>();\n  const contextNetwork = useWeb3ReactCore<Web3Provider>(NetworkContextName);\n  return context.active ? context : contextNetwork;\n}\n\nexport function useEagerConnect(): boolean {\n  const { activate, active } = useActiveWeb3React();\n\n  const [tried, setTried] = useState(false);\n\n  useEffect(() => {\n    injected.isAuthorized().then((isAuthorized: boolean) => {\n      if (isAuthorized) {\n        activate(injected, undefined, true).catch(() => {\n          setTried(true);\n        });\n      } else {\n        setTried(true);\n      }\n    });\n  }, []); // intentionally only running on mount (make sure it's only mounted once :))\n\n  // if the connection worked, wait until we get confirmation of that to flip the flag\n  useEffect(() => {\n    if (!tried && active) {\n      setTried(true);\n    }\n  }, [tried, active]);\n\n  return tried;\n}\n","import { ethers, Contract } from 'ethers';\n\n// account is not optional\nexport function getSigner(\n  library: ethers.providers.Web3Provider,\n  account: string\n): ethers.providers.JsonRpcSigner {\n  return library.getSigner(account).connectUnchecked();\n}\n\n// account is optional\nexport function getProviderOrSigner(\n  library: ethers.providers.Web3Provider,\n  account?: string\n): ethers.providers.Web3Provider | ethers.providers.JsonRpcSigner {\n  return account ? getSigner(library, account) : library;\n}\n\n// returns the checksummed address if the address is valid, otherwise returns false\nexport function isAddress(value: string): string | false {\n  try {\n    return ethers.utils.getAddress(value);\n  } catch {\n    return false;\n  }\n}\n\n// account is optional\nexport function getContract(\n  address: string,\n  ABI: ethers.ContractInterface,\n  library: ethers.providers.Web3Provider,\n  account?: string\n): Contract {\n  if (!isAddress(address) || address === ethers.constants.AddressZero) {\n    throw Error(`Invalid 'address' parameter '${address}'.`);\n  }\n\n  return new Contract(\n    address,\n    ABI,\n    getProviderOrSigner(library, account) as any\n  );\n}\n","import { useMemo } from 'react';\nimport { ethers, Contract } from 'ethers';\nimport { ChainId } from '@uniswap/sdk';\nimport { useActiveWeb3React } from './web3';\nimport { getContract } from '../utils/web3';\nimport DISTRIBUTOR_ABI from '../constants/abi/Distributor.json';\n\n// returns null on errors\nexport function useContract(\n  address: string | undefined,\n  ABI: ethers.ContractInterface,\n  withSignerIfPossible = true\n): Contract | null {\n  const { library, account } = useActiveWeb3React();\n\n  return useMemo(() => {\n    if (!address || !ABI || !library) return null;\n    try {\n      return getContract(\n        address,\n        ABI,\n        library,\n        withSignerIfPossible && account ? account : undefined\n      );\n    } catch (error) {\n      console.error('Failed to get contract', error);\n      return null;\n    }\n  }, [address, ABI, library, withSignerIfPossible, account]);\n}\n\nexport function useDistributorContract(\n  withSignerIfPossible?: boolean\n): Contract | null {\n  const { chainId } = useActiveWeb3React();\n  let address: string | undefined;\n  if (chainId) {\n    switch (chainId) {\n      case ChainId.MAINNET:\n        address = '';\n        break;\n      case ChainId.KOVAN:\n        address = '0x501cc38ae11ba264e04480c202e9c17f8947441a';\n        break;\n    }\n  }\n  return useContract(address, DISTRIBUTOR_ABI, withSignerIfPossible);\n}\n","import { ChainId } from '@uniswap/sdk';\nimport { fetchSignedQuote } from 'client';\nimport { ethers } from 'ethers';\nimport { useCallback } from 'react';\nimport { useDistributorContract } from './useContract';\nimport { useActiveWeb3React } from './web3';\n\nexport const useDistributor = (): {\n  buyCover: (\n    contractAddress: string,\n    coverData: any,\n    currency: string,\n    amount: string\n  ) => Promise<ethers.Transaction>;\n} => {\n  const { chainId } = useActiveWeb3React();\n  // const [allowance, setAllowance] = useState('0');\n  const distributorContract = useDistributorContract(true); //withSigner\n\n  const buyCover = useCallback(\n    async (\n      contractAddress: string,\n      coverData: any,\n      currency: string,\n      amount: string\n    ) => {\n      let networkBasedAddress;\n      let signedQuote;\n      let period;\n      if (chainId === ChainId.KOVAN) {\n        // hardcode data on kovan for testing\n        console.log('calling kovan');\n        networkBasedAddress = '0xc57d000000000000000000000000000000000002';\n        period = 111;\n        signedQuote = await fetchSignedQuote(\n          parseFloat(amount),\n          'ETH',\n          period,\n          networkBasedAddress\n        );\n      } else {\n        console.log('calling mainnet');\n        signedQuote = await fetchSignedQuote(\n          parseFloat(amount),\n          currency === '0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE'\n            ? 'ETH'\n            : 'DAI',\n          coverData.period,\n          contractAddress\n        );\n        period = coverData.period;\n      }\n\n      console.log(signedQuote);\n\n      if (signedQuote && networkBasedAddress) {\n        const encodedSignedQuote = ethers.utils.defaultAbiCoder.encode(\n          ['uint', 'uint', 'uint', 'uint', 'uint8', 'bytes32', 'bytes32'],\n          [\n            signedQuote.price,\n            signedQuote.priceInNXM,\n            signedQuote.expiresAt,\n            signedQuote.generatedAt,\n            signedQuote.v,\n            signedQuote.r,\n            signedQuote.s,\n          ]\n        );\n\n        const tx = distributorContract?.buyCover(\n          networkBasedAddress,\n          currency,\n          ethers.utils.parseEther(amount),\n          111,\n          0, // cover type\n          signedQuote.price,\n          encodedSignedQuote.toString(),\n          {\n            value: signedQuote.price,\n          }\n        );\n        return tx;\n      }\n    },\n    [distributorContract]\n  );\n\n  return {\n    buyCover,\n  };\n};\n","/* eslint-disable @typescript-eslint/no-var-requires */\nimport React from 'react';\nimport { ethers } from 'ethers';\nimport { Image } from 'rebass';\n\nexport const OppoortunityImage: React.FC<{\n  protocol: string;\n  asset?: string;\n  staticImageUrl?: string;\n}> = ({ protocol, asset, staticImageUrl }) => {\n  let protocolImage;\n\n  try {\n    protocolImage = require(`../assets/images/${protocol}-logo.svg`)?.default;\n  } catch {\n    protocolImage =\n      'https://icons.getbootstrap.com/assets/icons/question-circle.svg';\n  }\n  const imageUrl = staticImageUrl\n    ? staticImageUrl\n    : `https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/${\n        ethers.utils.isAddress(asset || '')\n          ? ethers.utils.getAddress(asset || '0x0')\n          : '0x0'\n      }/logo.png`;\n\n  return (\n    <>\n      <Image\n        width={36}\n        height={36}\n        sx={{\n          borderRadius: 50,\n        }}\n        onError={(e) => {\n          // Uses a fallback image when token image unavailable\n          // TO DO: Move this to a local image\n          //@ts-ignore\n          e.target.src =\n            'https://icons.getbootstrap.com/assets/icons/question-circle.svg';\n        }}\n        src={imageUrl}\n      />\n      <Image\n        width={20}\n        src={protocolImage}\n        sx={{\n          borderRadius: 50,\n        }}\n        style={{\n          marginLeft: '-0.5rem',\n          marginTop: '0.5rem',\n          background: 'white',\n        }}\n      />\n    </>\n  );\n};\n","/* eslint-disable @typescript-eslint/no-var-requires */\nimport React from 'react';\nimport { AccordionCard } from 'components/AccordionCard';\nimport { Flex } from 'components/Flex';\nimport { Box } from 'components/Box';\nimport { Text } from 'components/Text';\nimport { Opportunity } from 'types/shared';\nimport { Slider } from 'components/Slider';\nimport { Button } from 'components/Button';\nimport spinner from '../../../assets/images/spinner.svg';\nimport { useDistributor } from 'hooks/useDistributor';\nimport { OppoortunityImage } from 'components/OpportunityImage';\n\ninterface OpportunityCardProps {\n  opportunity: Opportunity;\n}\n\nexport const OpportunityCard: React.FC<OpportunityCardProps> = ({\n  opportunity,\n}) => {\n  const [coverDuration, setCoverDuration] = React.useState<number>(365);\n  const [coverAmount, setCoverAmount] = React.useState('1');\n  const [loadingTx, setLoadingTx] = React.useState(false);\n  const { buyCover } = useDistributor();\n  const coverAvailable =\n    +coverAmount < +(opportunity?.capacity?.capacityETH?.toString() || '0');\n\n  return (\n    <AccordionCard\n      mb=\"2em\"\n      accordionChildren={\n        <Flex width=\"100%\" justifyContent=\"flex-between\">\n          <Box width=\"50%\">\n            <Box width=\"100%\">\n              <Text>What's covered:</Text>\n              <ul>\n                <li>Contract bugs</li>\n                <li>Economic attacks, including oracle failures</li>\n                <li>Governance attacks</li>\n              </ul>\n            </Box>\n            <Box width=\"50%\">\n              <Text>Supported chains:</Text>\n              <ul>\n                {opportunity?.associtatedCoverable?.supportedChains?.map(\n                  (chain) => (\n                    <li key={chain}>{chain}</li>\n                  )\n                )}\n              </ul>\n            </Box>\n          </Box>\n          <Box\n            width=\"50%\"\n            bg=\"tertiary\"\n            py=\"1.5em\"\n            px=\"1.75em\"\n            sx={{ borderRadius: 'large' }}\n          >\n            <input\n              onChange={(e) => setCoverAmount(e.target.value)}\n              value={coverAmount}\n            />\n            <Slider\n              min={30}\n              max={365}\n              value={coverDuration}\n              valueSuffix=\"DAYS\"\n              step={1}\n              onChange={setCoverDuration}\n            />\n            <Button\n              disabled={!coverAvailable}\n              width=\"120px\"\n              onClick={async () => {\n                setLoadingTx(true);\n                try {\n                  await buyCover(\n                    opportunity.nexusAddress,\n                    { period: coverDuration },\n                    '0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE',\n                    coverAmount\n                  );\n                } finally {\n                  setLoadingTx(false);\n                }\n              }}\n            >\n              {coverAvailable && !loadingTx ? (\n                'Buy Cover'\n              ) : loadingTx ? (\n                <img src={spinner} width=\"20\" height=\"20\" />\n              ) : (\n                'Cover Unavailable'\n              )}\n            </Button>\n          </Box>\n        </Flex>\n      }\n    >\n      <Box width=\"50%\">\n        <OppoortunityImage\n          asset={opportunity?.underlyingAssets?.[0].address}\n          protocol={opportunity.protocol.name}\n          staticImageUrl={opportunity.opportunityAsset.imageUrl}\n        />\n        <Text>{opportunity.displayName}</Text>\n        <Text>{opportunity.rawApr}</Text>\n        <Text>{opportunity.coverCost}</Text>\n        <br />\n        {opportunity?.coverCost && (\n          <Text>{+opportunity.rawApr - +opportunity?.coverCost}</Text>\n        )}\n      </Box>\n    </AccordionCard>\n  );\n};\n","/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\nimport { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux';\nimport type { RootState, AppDispatch } from './store';\nimport {\n  fetchRates as fetchRatesAction,\n  fetchCapacities as fetchCapacitiesAction,\n  fetchSignedQuote as fetchSignedQuoteAction,\n} from './reducer';\nimport { OpportunityShell } from 'types/shared';\n\n// Use throughout your app instead of plain `useDispatch` and `useSelector`\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\n\nexport const useAsyncRates = () => {\n  const dispatch = useAppDispatch();\n  const rates: OpportunityShell[] = useAppSelector(\n    (state) => state.application.rates\n  );\n  const loadingRates = useAppSelector(\n    (state) => state.application.loadingRates\n  );\n  const fetchRates = () => dispatch(fetchRatesAction());\n  return [rates, fetchRates, loadingRates] as const;\n};\n\nexport const useAsyncCapacities = () => {\n  const dispatch = useAppDispatch();\n  const capacities: any[] = useAppSelector(\n    (state) => state.application.capacities\n  );\n  const fetchCapacities = () => dispatch(fetchCapacitiesAction());\n  const loadingCapacities = useAppSelector(\n    (state) => state.application.loadingCapacities\n  );\n  return [capacities, fetchCapacities, loadingCapacities] as const;\n};\n\nexport const useAsyncSignedQuote = () => {\n  const dispatch = useAppDispatch();\n  const signedQuote: any = useAppSelector(\n    (state) => state.application.signedQuote\n  );\n  const fetchSignedQuote = (contractAddress: string) =>\n    dispatch(fetchSignedQuoteAction(contractAddress));\n  return [signedQuote, fetchSignedQuote] as const;\n};\n","import React, { useEffect, useMemo, useState } from 'react';\nimport styled from '@emotion/styled/macro';\nimport { Label, Select } from '@rebass/forms';\n\nimport { Box } from 'components/Box';\nimport { Flex } from 'components/Flex';\nimport { Card } from 'components/Card';\nimport { Text } from 'components/Text';\nimport { OpportunityCard } from './scene/OpportunityCard';\n\nimport { useAsyncRates, useAsyncCapacities } from 'state/hooks';\nimport { Opportunity, OpportunityShell } from 'types/shared';\nimport { protocols } from 'constants/data';\nimport { BigNumber } from '@ethersproject/bignumber';\nimport Skeleton from 'react-loading-skeleton';\n\nconst OpportunityListViewContainer = styled(Box)({\n  width: 'clamp(100%, 100%, 100%)',\n});\n\nprotocols;\n\nexport const OpportunityListView: React.FC = () => {\n  const [rates, fetchRates] = useAsyncRates();\n  const [capacities, fetchCapacities] = useAsyncCapacities();\n  const [filterCriteria, setFilterCriteria] = useState<{\n    protocol?: string;\n    token?: string;\n  }>({});\n\n  useEffect(() => {\n    fetchRates();\n    fetchCapacities();\n  }, []);\n\n  const ratesWithCosts = useMemo(() => {\n    return rates\n      .map((rate) => {\n        // find capacity data for contract\n        const associatedCoverageData = capacities.find(\n          (capacity) => capacity.contractAddress === rate.nexusAddress\n        );\n        return {\n          ...(rate as OpportunityShell),\n          coverCost: associatedCoverageData?.coverCost,\n          capacity: {\n            capacityETH: BigNumber.from(\n              associatedCoverageData?.capacityETH || 0\n            ),\n            capacityDAI: BigNumber.from(\n              associatedCoverageData?.capacityDAI || 0\n            ),\n          },\n          associtatedCoverable: associatedCoverageData?.associatedCoverable,\n        };\n      })\n      .filter((rate) =>\n        filterCriteria?.protocol\n          ? filterCriteria?.protocol === rate.protocol.name\n          : true\n      )\n      .filter((rate) =>\n        filterCriteria?.token\n          ? filterCriteria?.token === rate.underlyingAssets?.[0]?.symbol\n          : true\n      );\n  }, [rates, capacities, filterCriteria]);\n\n  const availableTokens = useMemo(() => {\n    return [\n      ...Array.from(\n        new Set(rates.map((rate) => rate.underlyingAssets?.[0]?.symbol))\n      ),\n    ];\n  }, [rates]);\n\n  return (\n    <OpportunityListViewContainer>\n      <Text as=\"h1\" variant=\"subhead\">\n        Protected Yields\n      </Text>\n      <Flex\n        width=\"100%\"\n        mb=\"1.675em\"\n        flexDirection={['column', 'column', 'column', 'row']}\n        justifyContent={[\n          'flex-start',\n          'flex-start',\n          'flex-start',\n          'space-between',\n        ]}\n      >\n        <Card\n          height={['unset', 'unset', 'unset', '4em']}\n          width={['100%', '100%', '100%', 'calc(50% - 0.75em)']}\n          mb={['1.675em', '1.675em', '1.675em', 0]}\n        >\n          <Box width=\"150px\">\n            <Label>Protocol</Label>\n            <Select\n              defaultValue=\"All Protocols\"\n              onChange={(e) =>\n                setFilterCriteria(\n                  e.target.value !== 'All Protocols'\n                    ? { ...filterCriteria, protocol: e.target.value }\n                    : {}\n                )\n              }\n            >\n              <option>All Protocols</option>\n              {Object.keys(protocols).map((key) => (\n                <option key={key}>{key}</option>\n              ))}\n            </Select>\n          </Box>\n          <Box width=\"150px\">\n            <Label>Token</Label>\n            <Select\n              defaultValue=\"All Tokens\"\n              onChange={(e) =>\n                setFilterCriteria(\n                  e.target.value !== 'All Tokens'\n                    ? { ...filterCriteria, token: e.target.value }\n                    : {}\n                )\n              }\n            >\n              <option>All Tokens</option>\n              {availableTokens.map((key) => (\n                <option key={key}>{key}</option>\n              ))}\n            </Select>\n          </Box>\n        </Card>\n        <Card\n          height={['unset', 'unset', 'unset', '4em']}\n          width={['100%', '100%', '100%', 'calc(50% - 0.75em)']}\n        ></Card>\n      </Flex>\n      {ratesWithCosts.length ? (\n        ratesWithCosts.map((opportunity: Opportunity) => (\n          <OpportunityCard\n            key={`${opportunity.displayName}-${opportunity.rawApr}`}\n            opportunity={opportunity}\n          />\n        ))\n      ) : (\n        <Skeleton\n          width=\"100%\"\n          height=\"109px\"\n          style={{ borderRadius: '20px', margin: '20px 0' }}\n          count={10}\n        />\n      )}\n    </OpportunityListViewContainer>\n  );\n};\n","type EnvType = 'boolean' | 'string' | 'number';\n\nconst parseEnv = (\n  envVarName: any,\n  opts?: { type?: EnvType; required?: boolean }\n) => {\n  const envVar = process.env[`REACT_APP_${envVarName}`];\n  const type = opts?.type ?? 'string';\n  const required = opts?.required ?? false;\n\n  if (required && typeof envVarName === 'undefined') {\n    console.error(` WARNING \\n===========\\n${envVarName} is undefined`);\n  }\n\n  if (!envVar && envVar !== '0') {\n    return;\n  }\n\n  switch (type) {\n    case 'boolean':\n      return Boolean(envVar || false);\n    case 'number':\n      return parseInt(envVar || '');\n    case 'string':\n    default:\n      return `${envVar}`;\n  }\n};\n\nexport const env = {\n  GITHUB_PAGES: parseEnv('GITHUB_PAGES', { type: 'boolean' }) as boolean,\n};\n","import React from 'react';\n\nimport { DimensionsContextProvider } from './DimensionsContext';\n\nexport const Contexts: React.FC = ({ children }) => (\n  <DimensionsContextProvider>{children}</DimensionsContextProvider>\n);\n","import React from 'react';\nimport styled from '@emotion/styled/macro';\nimport { HashRouter, BrowserRouter, Switch, Route } from 'react-router-dom';\nimport { ThemeProvider } from 'theme-ui';\nimport { store } from '../state/store';\nimport { Provider } from 'react-redux';\nimport { Web3ReactProvider, createWeb3ReactRoot } from '@web3-react/core';\nimport { ethers } from 'ethers';\n\nimport { Flex } from 'components/Flex';\nimport { NavBar } from 'components/NavBar';\nimport { PageContentWrapper } from 'components/PageContentWrapper';\nimport { OpportunityListView } from 'views/OpportunityListView';\n\nimport { theme } from 'theme';\nimport { env } from 'config/env';\nimport { Contexts } from 'contexts';\nimport { NetworkContextName } from '../constants';\n\nconst Web3ProviderNetwork = createWeb3ReactRoot(NetworkContextName);\n\nfunction getLibrary(\n  provider:\n    | ethers.providers.ExternalProvider\n    | ethers.providers.JsonRpcFetchFunc\n) {\n  return new ethers.providers.Web3Provider(provider);\n}\n\n// React Router only works with a HashRouter on GitHub Pages...\nconst Router = env.GITHUB_PAGES\n  ? (props: any) => <HashRouter {...props} />\n  : (props: any) => <BrowserRouter {...props} />;\n\nconst AppContainer = styled(Flex)((props: any) => ({\n  justifyContent: 'center',\n  width: 'clamp(100vw, 100%, 100vw)',\n  minHeight: 'calc(100vh - 2.75em)',\n  background: props.theme.colors.background,\n  transform: 'translateY(2.75em)',\n  padding: '2.75em 0',\n}));\n\nexport const App: React.FC = () => (\n  <ThemeProvider theme={theme}>\n    <Provider store={store}>\n      <Web3ReactProvider getLibrary={getLibrary}>\n        <Web3ProviderNetwork getLibrary={getLibrary}>\n          <Contexts>\n            <Router>\n              <NavBar />\n              <AppContainer id=\"page-content\">\n                <PageContentWrapper>\n                  <Switch>\n                    <Route path=\"/\" component={OpportunityListView} />\n                  </Switch>\n                </PageContentWrapper>\n              </AppContainer>\n            </Router>\n          </Contexts>\n        </Web3ProviderNetwork>\n      </Web3ReactProvider>\n    </Provider>\n  </ThemeProvider>\n);\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler): void => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\n\nimport { App } from './app';\nimport { store } from './state/store';\nimport reportWebVitals from './reportWebVitals';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}